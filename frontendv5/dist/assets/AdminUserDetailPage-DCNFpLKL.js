import{g as f,p as y,r as c,V as b,j as e,d as v,L as h,B as x,M as N,P as C,l as D,n as L,S}from"./index---XYpbwv.js";import{u as k}from"./userService-BVSG9cXN.js";import{A as u}from"./arrow-left-CYlgApu7.js";import{P as w}from"./pen-line-CKq3-XG4.js";import{C as g,a as p}from"./circle-user-CqQw59HW.js";import{C as o}from"./circle-check-big-BhElR3sU.js";import{C as d}from"./circle-x-DZIV9wQ5.js";import{C as j}from"./clock-DJtAe62-.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],A=f("briefcase",T);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B=f("circle-help",V),a=({icon:n,label:s,value:i,highlight:l=!1})=>{const r=n;return e.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[e.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(r,{size:16,className:"mr-2 text-red-600"}),s]}),e.jsx("dd",{className:`mt-1 text-sm ${l?"font-semibold text-red-700":"text-gray-900"} sm:mt-0 sm:col-span-2`,children:i!=null&&i!==""?i:e.jsx("span",{className:"italic text-gray-400",children:"Chưa có thông tin"})})]})},$=()=>{const{userId:n}=y(),[s,i]=c.useState(null),[l,r]=c.useState(!0),m=c.useCallback(async()=>{r(!0);try{const t=await k.getUserByIdForAdmin(n);i(t)}catch(t){console.error("Error fetching user data (component):",t),b.error(`Lỗi khi tải thông tin người dùng: ${t.message}`)}finally{r(!1)}},[n]);if(c.useEffect(()=>{m()},[m]),l)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(v,{size:"12"})});if(!s&&!l)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-xl text-gray-700",children:"Không tìm thấy thông tin người dùng hoặc có lỗi xảy ra."}),e.jsx(h,{to:"/admin/users",children:e.jsxs(x,{variant:"secondary",className:"mt-4",children:[e.jsx(u,{size:18,className:"mr-2"})," Quay lại"]})})]});if(s){const t=s.bloodTypeDescription||"Chưa cập nhật";return e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs(h,{to:"/admin/users",className:"flex items-center text-red-600 hover:text-red-800 mb-4",children:[e.jsx(u,{size:20,className:"mr-2"}),"Quay lại danh sách người dùng"]}),e.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-5 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s.fullName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",s.id," -"," ",e.jsx("span",{className:"font-semibold",children:s.username})]})]}),e.jsx(h,{to:`/admin/users/edit/${n}`,children:e.jsxs(x,{variant:"outline",children:[e.jsx(w,{size:16,className:"mr-2"})," Chỉnh sửa"]})})]})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("dl",{className:"divide-y divide-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 my-3",children:"Thông tin liên hệ"}),e.jsx(a,{icon:N,label:"Email",value:s.email}),e.jsx(a,{icon:C,label:"Số điện thoại",value:s.phone}),e.jsx(a,{icon:D,label:"Địa chỉ",value:s.address}),e.jsx(a,{icon:g,label:"Liên hệ khẩn cấp",value:s.emergencyContact}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 pt-5 my-3",children:"Thông tin cá nhân & Y tế"}),e.jsx(a,{icon:p,label:"Ngày sinh",value:s.dateOfBirth?new Date(s.dateOfBirth).toLocaleDateString():null}),e.jsx(a,{icon:g,label:"Giới tính",value:s.gender}),e.jsx(a,{icon:L,label:"Nhóm máu",value:t,highlight:t!=="Chưa cập nhật"}),e.jsx(a,{icon:A,label:"Tình trạng bệnh lý",value:s.medicalConditions}),e.jsx(a,{icon:p,label:"Lần hiến máu cuối",value:s.lastDonationDate?new Date(s.lastDonationDate).toLocaleDateString():null}),e.jsx(a,{icon:s.isReadyToDonate?o:d,label:"Sẵn sàng hiến máu",value:s.isReadyToDonate?"Có":"Không",highlight:s.isReadyToDonate===!0}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 pt-5 my-3",children:"Thông tin tài khoản"}),e.jsx(a,{icon:S,label:"Vai trò",value:s.role,highlight:!0}),e.jsx(a,{icon:s.status==="Active"?o:s.status==="Suspended"?d:B,label:"Trạng thái",value:s.status,highlight:s.status==="Active"}),e.jsx(a,{icon:s.emailVerified?o:d,label:"Email đã xác thực",value:s.emailVerified?"Đã xác thực":"Chưa xác thực"}),e.jsx(a,{icon:s.phoneVerified?o:d,label:"SĐT đã xác thực",value:s.phoneVerified?"Đã xác thực":"Chưa xác thực"}),e.jsx(a,{icon:j,label:"Ngày tạo",value:s.createdAt?new Date(s.createdAt).toLocaleString():null}),e.jsx(a,{icon:j,label:"Cập nhật lần cuối",value:s.updatedAt?new Date(s.updatedAt).toLocaleString():null})]})})]})]})}return null};export{$ as default};
