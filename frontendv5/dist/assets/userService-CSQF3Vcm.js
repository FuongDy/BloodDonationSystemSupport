import{s as c}from"./index-CLUoxoAg.js";class g{async getAllUsers(a={}){var n,d,p;const{page:t=0,size:o=10,sort:r=["id","asc"],keyword:s="",filters:e={}}=a;try{const i=r.join(","),u={page:t,size:o,sort:i,...s&&{keyword:s},...e},l=new URLSearchParams(u).toString();return(await c.get(`/admin/users?${l}`)).data}catch(i){throw console.error("Error fetching all users:",((n=i.response)==null?void 0:n.data)||i.message),new Error(((p=(d=i.response)==null?void 0:d.data)==null?void 0:p.message)||"Failed to fetch users")}}async createUserByAdmin(a){var t,o,r,s;try{return(await c.post("/admin/users",a)).data}catch(e){throw console.error("Error creating user:",((t=e.response)==null?void 0:t.data)||e.message),new Error(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||((s=e.response)==null?void 0:s.data)||e.message||"Failed to create user")}}async getUserByIdForAdmin(a){var t,o,r,s;try{return(await c.get(`/admin/users/${a}`)).data}catch(e){throw console.error(`Error fetching user by ID ${a}:`,((t=e.response)==null?void 0:t.data)||e.message),new Error(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||((s=e.response)==null?void 0:s.data)||e.message||"Failed to fetch user details")}}async updateUserByAdmin(a,t){var o,r,s,e;try{return(await c.put(`/admin/users/${a}`,t)).data}catch(n){throw console.error(`Error updating user ${a}:`,((o=n.response)==null?void 0:o.data)||n.message),new Error(((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||((e=n.response)==null?void 0:e.data)||n.message||"Failed to update user")}}async softDeleteUserByAdmin(a){var t,o,r,s;try{return(await c.delete(`/admin/users/${a}`)).data}catch(e){throw console.error(`Error soft deleting user ${a}:`,((t=e.response)==null?void 0:t.data)||e.message),new Error(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||((s=e.response)==null?void 0:s.data)||e.message||"Failed to disable user")}}async getCurrentUserProfile(){var a,t,o;try{return(await c.get("/users/me/profile")).data}catch(r){throw console.error("Error fetching current user profile:",((a=r.response)==null?void 0:a.data)||r.message),new Error(((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to fetch user profile")}}async getProfile(a=!1){return this.getCurrentUserProfile()}async updateUserProfile(a){var t,o,r;try{return(await c.put("/users/me/profile",a)).data}catch(s){throw console.error("Error updating user profile:",((t=s.response)==null?void 0:t.data)||s.message),new Error(((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to update profile")}}async updateProfile(a){return this.updateUserProfile(a)}async searchDonorsByLocation(a){var t,o,r;try{return(await c.post("/users/search/donors-by-location",a)).data}catch(s){throw console.error("Error searching donors by location:",((t=s.response)==null?void 0:t.data)||s.message),new Error(((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to search donors")}}}const w=new g;export{w as u};
