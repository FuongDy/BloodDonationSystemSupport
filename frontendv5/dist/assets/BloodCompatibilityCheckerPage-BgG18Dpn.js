import{g as i,r as s,V as E,j as e,G as F,o as Q,d as K}from"./index---XYpbwv.js";import{b as V}from"./bloodTypeService-DVaU63AT.js";import{b as Z}from"./bloodCompatibilityService-BjzIM7Q9.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Y=i("file-text",U);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],X=i("handshake",J);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],te=i("heart-handshake",ee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],ne=i("heart-pulse",se);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],re=i("info",ae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],le=i("stethoscope",ce);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],ie=i("syringe",oe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],he=i("user-check",de),o=({type:c,percentage:m,description:d,isRare:x})=>e.jsxs("div",{className:`bg-white p-4 rounded-lg shadow-md border ${x?"border-red-200":"border-gray-200"}`,children:[e.jsx("p",{className:`text-2xl font-bold ${x?"text-red-700":"text-gray-800"}`,children:c}),e.jsx("p",{className:"text-3xl font-bold text-red-600 my-2",children:m}),e.jsx("p",{className:"text-sm text-gray-500",children:d})]}),ge=()=>{const[c,m]=s.useState("compatibility"),[d,x]=s.useState("whole"),[f,k]=s.useState([]),[p,v]=s.useState([]),[z,T]=s.useState(!0),[$,G]=s.useState([]),[q,P]=s.useState([]),[L,I]=s.useState([]),[g,w]=s.useState(""),[u,B]=s.useState(""),[y,C]=s.useState(""),[S,M]=s.useState([]),[A,H]=s.useState([]),_=s.useCallback(async()=>{var t,l;T(!0);try{const[r,n]=await Promise.all([V.getAll(),Z.getAll(0,1e3)]),a=r||[],R=n.content||[];k(a),v(R),k(a),v(R);const b=a.filter(h=>h.componentType==="Whole Blood");G(b);const j=[...new Set(a.map(h=>h.bloodGroup))],N=[...new Set(a.map(h=>h.componentType))].filter(h=>h!=="Whole Blood");P(j),I(N),b.length>0&&w(String(b[0].id)),j.length>0&&B(j[0]),N.length>0&&C(N[0])}catch(r){const n=((l=(t=r.response)==null?void 0:t.data)==null?void 0:l.message)||r.message||"Đã có lỗi xảy ra.";E.error("Lỗi khi tải dữ liệu: "+n)}finally{T(!1)}},[]);s.useEffect(()=>{_()},[_]),s.useEffect(()=>{let t=null;if(d==="whole")t=parseInt(g,10);else{const l=f.find(r=>r.bloodGroup===u&&r.componentType===y);l&&(t=l.id)}if(t&&p.length>0){const l=new Set;p.forEach(n=>{var a;((a=n.recipientBloodType)==null?void 0:a.id)===t&&n.isCompatible&&l.add(n.donorBloodType.description)}),M(Array.from(l));const r=new Set;p.forEach(n=>{var a;((a=n.donorBloodType)==null?void 0:a.id)===t&&n.isCompatible&&r.add(n.recipientBloodType.description)}),H(Array.from(r))}else M([]),H([])},[g,u,y,d,f,p]);const O=()=>e.jsxs("div",{className:"animate-modal-appear space-y-10",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tìm hiểu về các Nhóm máu"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Tìm hiểu về các loại máu khác nhau và sự phân bố của chúng trong dân số."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-red-700",children:"Hệ thống nhóm máu ABO"}),e.jsx("p",{className:"text-gray-700",children:"Hệ thống ABO phân loại máu thành bốn loại chính: A, B, AB và O, dựa trên sự hiện diện hoặc vắng mặt của kháng nguyên A và B."}),e.jsx("h3",{className:"text-xl font-semibold text-red-700",children:"Yếu tố Rh"}),e.jsx("p",{className:"text-gray-700",children:"Yếu tố Rh là một kháng nguyên khác trên hồng cầu. Nếu có, nhóm máu là dương (+); nếu không, là âm (-)."})]}),e.jsx("div",{className:"flex justify-center items-center bg-gray-100 rounded-lg p-8",children:e.jsx(Q,{size:100,className:"text-red-300"})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Phân bố Nhóm máu (Tham khảo)"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(o,{type:"O+",percentage:"38%",description:"Phổ biến nhất"}),e.jsx(o,{type:"A+",percentage:"34%",description:"Phổ biến thứ hai"}),e.jsx(o,{type:"B+",percentage:"9%",description:"Ít phổ biến"}),e.jsx(o,{type:"AB+",percentage:"3%",description:"Hiếm nhất"}),e.jsx(o,{type:"O-",percentage:"7%",description:"Người cho toàn năng",isRare:!0}),e.jsx(o,{type:"A-",percentage:"6%",description:"Ít phổ biến",isRare:!0}),e.jsx(o,{type:"B-",percentage:"2%",description:"Hiếm",isRare:!0}),e.jsx(o,{type:"AB-",percentage:"1%",description:"Hiếm nhất",isRare:!0})]})]})]}),W=()=>e.jsxs("div",{className:"animate-modal-appear space-y-8",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>x("whole"),className:`px-4 py-2 text-sm font-medium ${d==="whole"?"border-b-2 border-red-600 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Máu Toàn Phần"}),e.jsx("button",{onClick:()=>x("components"),className:`px-4 py-2 text-sm font-medium ${d==="components"?"border-b-2 border-red-600 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Thành Phần Máu"})]}),z?e.jsx("div",{className:"flex justify-center items-center py-10",children:e.jsx(K,{})}):e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg shadow-inner",children:[d==="whole"?e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Tra cứu tương thích Máu Toàn Phần"}),e.jsx("label",{htmlFor:"selectWholeBloodType",className:"block text-base font-medium text-gray-700 mb-2",children:"Chọn nhóm máu:"}),e.jsx("select",{id:"selectWholeBloodType",value:g,onChange:t=>w(t.target.value),className:"block w-full md:w-1/2 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",children:$.map(t=>e.jsx("option",{value:t.id,children:t.bloodGroup},t.id))})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Tra cứu tương thích theo Thành Phần Máu"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"selectBloodGroup",className:"block text-base font-medium text-gray-700 mb-2",children:"Chọn nhóm máu:"}),e.jsx("select",{id:"selectBloodGroup",value:u,onChange:t=>B(t.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",children:q.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"selectComponent",className:"block text-base font-medium text-gray-700 mb-2",children:"Chọn thành phần:"}),e.jsx("select",{id:"selectComponent",value:y,onChange:t=>C(t.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",children:L.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm border border-green-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-700 flex items-center mb-3",children:[e.jsx(X,{size:20,className:"mr-2"})," Có thể Hiến cho"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.length>0?A.map(t=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:t},t)):e.jsx("p",{className:"text-gray-500 italic text-sm",children:"Không tìm thấy kết quả phù hợp."})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm border border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 flex items-center mb-3",children:[e.jsx(ne,{size:20,className:"mr-2"})," Có thể Nhận từ"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.length>0?S.map(t=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:t},t)):e.jsx("p",{className:"text-gray-500 italic text-sm",children:"Không tìm thấy kết quả phù hợp."})})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Lưu ý Tương thích Đặc biệt"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-red-600",children:"Người cho toàn năng (Hồng cầu):"})," ","O- có thể hiến hồng cầu cho bất kỳ ai vì không có kháng nguyên A, B, hoặc Rh."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-red-600",children:"Người nhận toàn năng (Hồng cầu):"})," ","AB+ có thể nhận hồng cầu từ bất kỳ ai vì họ có cả kháng nguyên A, B và Rh, không tạo ra kháng thể chống lại chúng."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-600",children:"Tương thích Huyết tương:"})," ","Quy tắc tương thích huyết tương ngược lại với hồng cầu. AB là người cho huyết tương toàn năng, trong khi O là người nhận toàn năng."]})]})]})]}),D=()=>e.jsxs("div",{className:"animate-modal-appear space-y-10",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quy Trình Hiến Máu"}),e.jsx("p",{className:"text-gray-600",children:"Những điều bạn cần biết khi tham gia hiến máu tại cơ sở của chúng tôi."})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-3",children:"Trước khi Hiến máu"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"Ngủ đủ giấc vào đêm trước."}),e.jsx("li",{children:"Ăn nhẹ trong vòng 3 giờ trước khi hiến máu."}),e.jsx("li",{children:"Uống nhiều nước trước và sau khi hiến."}),e.jsx("li",{children:"Mang theo giấy tờ tùy thân và danh sách thuốc (nếu có)."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-3",children:"Điều kiện Tham gia"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"Từ 17 tuổi trở lên."}),e.jsx("li",{children:"Cân nặng ít nhất 50 kg."}),e.jsx("li",{children:"Có sức khỏe tốt, không mắc bệnh truyền nhiễm."}),e.jsx("li",{children:"Không hiến máu toàn phần trong 56 ngày qua."})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Các bước trong Quy trình"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx(he,{size:40,className:"mx-auto text-red-500 mb-3"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Đăng ký"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Điền phiếu đăng ký và đọc các tài liệu hướng dẫn."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx(le,{size:40,className:"mx-auto text-red-500 mb-3"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Khám sàng lọc"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Nhân viên y tế sẽ kiểm tra huyết áp, nhiệt độ, và hemoglobin."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx(ie,{size:40,className:"mx-auto text-red-500 mb-3"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Hiến máu"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Quá trình lấy máu chỉ mất khoảng 8-10 phút. Sau đó bạn sẽ nghỉ ngơi tại chỗ."})]})]})]})]});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-10 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto pt-16",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center",children:[e.jsx(te,{size:32,className:"text-red-600 mr-3"})," Cẩm Nang Hiến Máu"]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex justify-center space-x-6",children:[e.jsxs("button",{onClick:()=>m("types"),className:`px-3 py-3 font-medium text-sm border-b-2 ${c==="types"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(re,{className:"inline-block mr-2",size:16})," Nhóm Máu"]}),e.jsxs("button",{onClick:()=>m("compatibility"),className:`px-3 py-3 font-medium text-sm border-b-2 ${c==="compatibility"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(F,{className:"inline-block mr-2",size:16})," ","Tương Thích"]}),e.jsxs("button",{onClick:()=>m("process"),className:`px-3 py-3 font-medium text-sm border-b-2 ${c==="process"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Y,{className:"inline-block mr-2",size:16})," Quy Trình"]})]})}),e.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg",children:[c==="types"&&O(),c==="compatibility"&&W(),c==="process"&&D()]})]})})})};export{ge as default};
