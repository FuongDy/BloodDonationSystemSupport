import{G as t}from"./index-0uBgUJAH.js";class u{async getAllUsers(o={}){var i,d;const{page:s=0,size:e=10,sort:a=["id","asc"],keyword:r="",filters:n={}}=o;try{const c=a.join(","),p={page:s,size:e,sort:c,...r&&{keyword:r},...n},l=new URLSearchParams(p).toString();return(await t.get(`/admin/users?${l}`)).data}catch(c){throw console.error(c.message),new Error(((d=(i=c.response)==null?void 0:i.data)==null?void 0:d.message)||"Failed to fetch users")}}async createUserByAdmin(o){var s,e,a;try{return(await t.post("/admin/users",o)).data}catch(r){throw console.error(r.message),new Error(((e=(s=r.response)==null?void 0:s.data)==null?void 0:e.message)||((a=r.response)==null?void 0:a.data)||r.message||"Failed to create user")}}async getUserByIdForAdmin(o){var s,e,a;try{return(await t.get(`/admin/users/${o}`)).data}catch(r){throw console.error(r.message),new Error(((e=(s=r.response)==null?void 0:s.data)==null?void 0:e.message)||((a=r.response)==null?void 0:a.data)||r.message||"Failed to fetch user details")}}async updateUserByAdmin(o,s){var e,a,r;try{return(await t.put(`/admin/users/${o}`,s)).data}catch(n){throw console.error(n.message),new Error(((a=(e=n.response)==null?void 0:e.data)==null?void 0:a.message)||((r=n.response)==null?void 0:r.data)||n.message||"Failed to update user")}}async softDeleteUserByAdmin(o){var s,e,a;try{return(await t.delete(`/admin/users/${o}`)).data}catch(r){throw console.error(r.message),new Error(((e=(s=r.response)==null?void 0:s.data)==null?void 0:e.message)||((a=r.response)==null?void 0:a.data)||r.message||"Failed to disable user")}}async getCurrentUserProfile(){var o,s;try{return(await t.get("/users/me/profile")).data}catch(e){throw console.error(e.message),new Error(((s=(o=e.response)==null?void 0:o.data)==null?void 0:s.message)||"Failed to fetch user profile")}}async getProfile(o=!1){return this.getCurrentUserProfile()}async updateUserProfile(o){var s,e;try{return(await t.put("/users/me/profile",o)).data}catch(a){throw console.error(a.message),new Error(((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to update profile")}}async updateProfile(o){return this.updateUserProfile(o)}async searchDonorsByLocation(o){var s,e;try{return(await t.post("/users/search/donors-by-location",o)).data}catch(a){throw console.error(a.message),new Error(((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to search donors")}}}const h=new u;export{h as u};
