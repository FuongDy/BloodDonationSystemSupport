import{g as h,r as d,b as y,j as e,C as m,I as u,l as b,B as f,V as r}from"./index---XYpbwv.js";import{d as j}from"./donationService-XrSPjFlp.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],N=h("message-square",v);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],w=h("send",C),M=()=>{const[a,x]=d.useState({appointmentDate:"",location:"Trung tâm hiến máu TP.HCM (201 Nguyễn Thị Minh Khai, Q1)",notes:""}),[t,c]=d.useState(!1),p=y(),i=o=>{const{name:s,value:n}=o.target;x(l=>({...l,[s]:n}))},g=async o=>{var s,n;if(o.preventDefault(),!a.appointmentDate||!a.location){r.error("Vui lòng chọn ngày hẹn và địa điểm.");return}c(!0);try{await j.createDonationRequest(),r.success("Yêu cầu hiến máu đã được gửi thành công! Chúng tôi sẽ sớm liên hệ với bạn."),p("/profile")}catch(l){r.error(((n=(s=l.response)==null?void 0:s.data)==null?void 0:n.message)||"Gửi yêu cầu thất bại.")}finally{c(!1)}};return e.jsxs("div",{className:"container mx-auto max-w-2xl py-12 px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(m,{className:"mx-auto h-12 w-auto text-red-600"}),e.jsx("h1",{className:"mt-4 text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Đặt Lịch Hẹn Hiến Máu"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Chủ động chọn thời gian và địa điểm phù hợp để việc hiến máu trở nên dễ dàng hơn."})]}),e.jsx("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsx(u,{label:"Chọn ngày giờ hẹn",id:"appointmentDate",name:"appointmentDate",type:"datetime-local",value:a.appointmentDate,onChange:i,required:!0,disabled:t,icon:e.jsx(m,{size:20})}),e.jsx(u,{label:"Địa điểm",id:"location",name:"location",type:"text",value:a.location,onChange:i,required:!0,disabled:t,icon:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi chú"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("textarea",{id:"notes",name:"notes",rows:"4",value:a.notes,onChange:i,disabled:t,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Ví dụ: Tôi có thể đến sau 18:00..."})]})]}),e.jsxs(f,{type:"submit",className:"w-full",disabled:t,isLoading:t,variant:"primary",size:"lg",children:[e.jsx(w,{className:"mr-2 h-5 w-5"}),"Gửi Yêu Cầu"]})]})})]})};export{M as default};
